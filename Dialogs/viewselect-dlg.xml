<?xml version="1.0" encoding="UTF-8" ?>

<PropertyList>
	<name>CRJViews</name>

	<nasal>
		<open>
			#
			#/sim/current-view/view-number does not use the view number but consecutive numbers (0..viewCount)
			#
			var indices = {};
			forindex (var i; view.views) {
				var n = view.views[i].getIndex();
				indices[n] = i;
			}
			
			var setViewByIndex = func(n) {
				setprop("/sim/current-view/view-number", indices[n]);
			}
			
			var me = gui.findElementByName(cmdarg(), "CRJViews");
		</open>
	</nasal>

	<color>
		<red>0.3</red>
		<green>0.3</green>
		<blue>0.3</blue>
		<alpha>0.6</alpha>
	</color>	
    <layout>vbox</layout>
    <group>
		<layout>hbox</layout>
		<empty>
			<stretch>1</stretch>
		</empty>
		<text>
			<label>View select</label>
		</text>
		<empty>
			<stretch>1</stretch>
		</empty>
		<button>
			<color>
				<red>0.5</red>
				<green>0.5</green>
				<blue>0.5</blue>
				<alpha>0.8</alpha>
			</color>	
			<pref-width>16</pref-width>
			<pref-height>16</pref-height>
			<legend>X</legend>
			<keynum>27</keynum>
			<border>2</border>
			<binding>
				<command>dialog-close</command>
			</binding>
		</button>
	</group>
	<hrule/>
	<!-- internal  -->
	<group>
		<layout>table</layout>
		<name>internal-views</name>
		<button>
			<row>0</row>
			<col>1</col>
			<name>102</name>
			<legend>OHP</legend>
			<pref-height>21</pref-height>
			<pref-width>45</pref-width>
			<margin>1</margin>
			<binding>
				<command>nasal</command>
				<script>setViewByIndex(102);</script>
			</binding>
		</button>
		<button>
			<row>1</row>
			<col>0</col>
			<name>0</name>
			<legend>Pilot</legend>
			<pref-height>21</pref-height>
			<pref-width>45</pref-width>
			<margin>1</margin>
			<binding>
				<command>nasal</command>
				<script>setViewByIndex(0);</script>
			</binding>
		</button>
		<button>
			<row>1</row>
			<col>1</col>
			<name>103</name>
			<legend>Ctr</legend>
			<pref-height>21</pref-height>
			<pref-width>45</pref-width>
			<margin>1</margin>
			<binding>
				<command>nasal</command>
				<script>setViewByIndex(103);</script>
			</binding>
		</button>
		<button>
			<row>1</row>
			<col>2</col>
			<legend>CoPi</legend>
			<name>101</name>
			<pref-height>21</pref-height>
			<pref-width>45</pref-width>
			<margin>1</margin>
			<binding>
				<command>nasal</command>
				<script>setViewByIndex(101);</script>
			</binding>
		</button>
		<button>
			<row>2</row>
			<col>1</col>
			<name>104</name>
			<legend>Radio</legend>
			<pref-height>21</pref-height>
			<pref-width>45</pref-width>
			<margin>1</margin>
			<binding>
				<command>nasal</command>
				<script>setViewByIndex(104);</script>
			</binding>
		</button>
		<button>
			<row>3</row>
			<col>0</col>
			<name>110</name>
			<legend>Wnd</legend>
			<pref-height>21</pref-height>
			<pref-width>45</pref-width>
			<margin>1</margin>
			<binding>
				<command>nasal</command>
				<script>setViewByIndex(110);</script>
			</binding>
		</button>
		<button>
			<row>3</row>
			<col>1</col>
			<name>100</name>
			<legend>Cabin</legend>
			<pref-height>21</pref-height>
			<pref-width>45</pref-width>
			<margin>1</margin>
			<binding>
				<command>nasal</command>
				<script>setViewByIndex(100);</script>
			</binding>
		</button>
		<button>
			<row>3</row>
			<col>2</col>
			<name>120</name>
			<legend>Wnd</legend>
			<pref-height>21</pref-height>
			<pref-width>45</pref-width>
			<margin>1</margin>
			<binding>
				<command>nasal</command>
				<script>setViewByIndex(120);</script>
			</binding>
		</button>
		<button>
			<row>4</row>
			<col>0</col>
			<name>111</name>
			<legend>Wnd</legend>
			<pref-height>21</pref-height>
			<pref-width>45</pref-width>
			<margin>1</margin>
			<binding>
				<command>nasal</command>
				<script>setViewByIndex(111);</script>
			</binding>
		</button>
		<button>
			<row>4</row>
			<col>2</col>
			<name>121</name>
			<legend>Wnd</legend>
			<pref-height>21</pref-height>
			<pref-width>45</pref-width>
			<margin>1</margin>
			<binding>
				<command>nasal</command>
				<script>setViewByIndex(121);</script>
			</binding>
		</button>
	</group>	
	<hrule/>
	<!-- external -->
	<group>
		<layout>table</layout>
		<name>external-views</name>
		<button>
			<row>0</row>
			<col>0</col>
			<name>107</name>
			<legend>Gnd</legend>
			<pref-height>21</pref-height>
			<pref-width>45</pref-width>
			<margin>1</margin>
			<binding>
				<command>nasal</command>
				<script>setViewByIndex(107);</script>
			</binding>
		</button>
		<button>
			<row>0</row>
			<col>1</col>
			<name>108</name>
			<legend>Nose</legend>
			<pref-height>21</pref-height>
			<pref-width>45</pref-width>
			<margin>1</margin>
			<binding>
				<command>nasal</command>
				<script>setViewByIndex(108);</script>
			</binding>
		</button>
		<button>
			<row>1</row>
			<col>0</col>
			<name>122</name>
			<legend>Wing L</legend>
			<pref-height>21</pref-height>
			<pref-width>45</pref-width>
			<margin>1</margin>
			<binding>
				<command>nasal</command>
				<script>setViewByIndex(122);</script>
			</binding>
		</button>
		<button>
			<row>1</row>
			<col>1</col>
			<name>119</name>
			<legend>Gear</legend>
			<pref-height>21</pref-height>
			<pref-width>45</pref-width>
			<margin>1</margin>
			<binding>
				<command>nasal</command>
				<script>setViewByIndex(119);</script>
			</binding>
		</button>
		<button>
			<row>1</row>
			<col>2</col>
			<name>123</name>
			<legend>Wing R</legend>
			<pref-height>21</pref-height>
			<pref-width>45</pref-width>
			<margin>1</margin>
			<binding>
				<command>nasal</command>
				<script>setViewByIndex(123);</script>
			</binding>
		</button>
		<button>
			<row>2</row>
			<col>1</col>
			<name>1</name>
			<legend>Heli</legend>
			<pref-height>21</pref-height>
			<pref-width>45</pref-width>
			<margin>1</margin>
			<binding>
				<command>nasal</command>
				<script>setViewByIndex(1);</script>
			</binding>
		</button>
	</group>
</PropertyList>

